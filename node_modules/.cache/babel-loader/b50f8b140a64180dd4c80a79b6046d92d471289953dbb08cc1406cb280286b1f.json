{"ast":null,"code":"import _regeneratorRuntime from \"D:/\\u0422\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0435/Rick_and_Morty/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/\\u0422\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0435/Rick_and_Morty/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref, onMounted } from 'vue';\nimport { getCharacters } from './services/api';\nimport CharacterCard from './components/CharacterCard.vue';\nimport AppHeader from './components/AppHeader.vue';\nexport default {\n  name: 'App',\n  components: {\n    CharacterCard: CharacterCard,\n    AppHeader: AppHeader\n  },\n  setup: function setup() {\n    var characters = ref([]);\n    var page = ref(1);\n    var filters = ref({\n      name: '',\n      status: ''\n    });\n    var fetchCharacters = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getCharacters(page.value, filters.value);\n            case 3:\n              data = _context.sent;\n              characters.value = data.results;\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Failed to fetch characters', _context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n      return function fetchCharacters() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var updateFilters = function updateFilters(newFilters) {\n      filters.value = newFilters;\n      applyFilters();\n    };\n    var applyFilters = function applyFilters() {\n      page.value = 1;\n      fetchCharacters();\n    };\n    var nextPage = function nextPage() {\n      page.value += 1;\n      fetchCharacters();\n    };\n    var prevPage = function prevPage() {\n      if (page.value > 1) {\n        page.value -= 1;\n        fetchCharacters();\n      }\n    };\n    onMounted(fetchCharacters);\n    return {\n      characters: characters,\n      page: page,\n      filters: filters,\n      updateFilters: updateFilters,\n      applyFilters: applyFilters,\n      nextPage: nextPage,\n      prevPage: prevPage\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","getCharacters","CharacterCard","AppHeader","name","components","setup","characters","page","filters","status","fetchCharacters","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","value","sent","results","t0","console","error","stop","apply","arguments","updateFilters","newFilters","applyFilters","nextPage","prevPage"],"sources":["D:\\Тестовые\\Rick_and_Morty\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <AppHeader :filters=\"filters\" @update:filters=\"updateFilters\" />\r\n    <div class=\"character-list\">\r\n      <CharacterCard v-for=\"character in characters\" :key=\"character.id\" :character=\"character\" />\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <button @click=\"prevPage\" :disabled=\"page === 1\">Previous</button>\r\n      <button @click=\"nextPage\">Next</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport { getCharacters } from './services/api'\r\nimport CharacterCard from './components/CharacterCard.vue'\r\nimport AppHeader from './components/AppHeader.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    CharacterCard,\r\n    AppHeader\r\n  },\r\n  setup () {\r\n    const characters = ref([])\r\n    const page = ref(1)\r\n    const filters = ref({\r\n      name: '',\r\n      status: ''\r\n    })\r\n\r\n    const fetchCharacters = async () => {\r\n      try {\r\n        const data = await getCharacters(page.value, filters.value)\r\n        characters.value = data.results\r\n      } catch (error) {\r\n        console.error('Failed to fetch characters', error)\r\n      }\r\n    }\r\n\r\n    const updateFilters = (newFilters) => {\r\n      filters.value = newFilters\r\n      applyFilters()\r\n    }\r\n\r\n    const applyFilters = () => {\r\n      page.value = 1\r\n      fetchCharacters()\r\n    }\r\n\r\n    const nextPage = () => {\r\n      page.value += 1\r\n      fetchCharacters()\r\n    }\r\n\r\n    const prevPage = () => {\r\n      if (page.value > 1) {\r\n        page.value -= 1\r\n        fetchCharacters()\r\n      }\r\n    }\r\n\r\n    onMounted(fetchCharacters)\r\n\r\n    return {\r\n      characters,\r\n      page,\r\n      filters,\r\n      updateFilters,\r\n      applyFilters,\r\n      nextPage,\r\n      prevPage\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n#app {\r\n  text-align: center;\r\n  background-color: #1e272e;\r\n  color: white;\r\n}\r\n\r\n.character-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  padding: 6.0rem 0;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 2em;\r\n}\r\n\r\n.pagination button {\r\n  margin: 0 0.5em;\r\n  padding: 0.5em 1em;\r\n  border-radius: 4px;\r\n  border: none;\r\n  background-color: #f39c12;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.pagination button:disabled {\r\n  background-color: #bdc3c7;\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n"],"mappings":";;AAcA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,SAASC,aAAY,QAAS,gBAAe;AAC7C,OAAOC,aAAY,MAAO,gCAA+B;AACzD,OAAOC,SAAQ,MAAO,4BAA2B;AAEjD,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVH,aAAa,EAAbA,aAAa;IACbC,SAAQ,EAARA;EACF,CAAC;EACDG,KAAI,WAAAA,MAAA,EAAK;IACP,IAAMC,UAAS,GAAIR,GAAG,CAAC,EAAE;IACzB,IAAMS,IAAG,GAAIT,GAAG,CAAC,CAAC;IAClB,IAAMU,OAAM,GAAIV,GAAG,CAAC;MAClBK,IAAI,EAAE,EAAE;MACRM,MAAM,EAAE;IACV,CAAC;IAED,IAAMC,eAAc;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA;QAAA,IAAAC,IAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEDrB,aAAa,CAACO,IAAI,CAACe,KAAK,EAAEd,OAAO,CAACc,KAAK;YAAA;cAApDN,IAAG,GAAAG,QAAA,CAAAI,IAAA;cACTjB,UAAU,CAACgB,KAAI,GAAIN,IAAI,CAACQ,OAAM;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;cAE9BO,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAAR,QAAA,CAAAM,EAAO;YAAA;YAAA;cAAA,OAAAN,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA,CAErD;MAAA,gBAPML,eAAcA,CAAA;QAAA,OAAAC,IAAA,CAAAkB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAOpB;IAEA,IAAMC,aAAY,GAAI,SAAhBA,aAAYA,CAAKC,UAAU,EAAK;MACpCxB,OAAO,CAACc,KAAI,GAAIU,UAAS;MACzBC,YAAY,CAAC;IACf;IAEA,IAAMA,YAAW,GAAI,SAAfA,YAAWA,CAAA,EAAU;MACzB1B,IAAI,CAACe,KAAI,GAAI;MACbZ,eAAe,CAAC;IAClB;IAEA,IAAMwB,QAAO,GAAI,SAAXA,QAAOA,CAAA,EAAU;MACrB3B,IAAI,CAACe,KAAI,IAAK;MACdZ,eAAe,CAAC;IAClB;IAEA,IAAMyB,QAAO,GAAI,SAAXA,QAAOA,CAAA,EAAU;MACrB,IAAI5B,IAAI,CAACe,KAAI,GAAI,CAAC,EAAE;QAClBf,IAAI,CAACe,KAAI,IAAK;QACdZ,eAAe,CAAC;MAClB;IACF;IAEAX,SAAS,CAACW,eAAe;IAEzB,OAAO;MACLJ,UAAU,EAAVA,UAAU;MACVC,IAAI,EAAJA,IAAI;MACJC,OAAO,EAAPA,OAAO;MACPuB,aAAa,EAAbA,aAAa;MACbE,YAAY,EAAZA,YAAY;MACZC,QAAQ,EAARA,QAAQ;MACRC,QAAO,EAAPA;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}